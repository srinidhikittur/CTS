<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catering Reservation System</title>
    <style>
body {
    font-family: 'Arial', sans-serif;
    margin: 0;
    padding: 0;
    background-image:url('thali_bg.jpg');
    background-position: center; 
    background-repeat: no-repeat; 
    background-size: cover;
    color: #333;
    text-align: center;
}


header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 50px;
    background-color: #007bff;
    box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.1);
}

header h1 {
    color: white;
    font-size: 1.8em;
    margin: 0;
}

nav ul {
    list-style-type: none;
    display: flex;
    margin: 0;
    padding: 0;
}

nav ul li {
    margin-left: 30px;
}

nav ul li a {
    color: white;
    text-decoration: none;
    font-size: 1.2em;
    padding: 10px 20px;
    border-radius: 5px;
    transition: background-color 0.3s ease;
}

nav ul li a:hover {
    background-color: #0056b3;
}

h1 {
    color: #333;
    margin-top: 20px;
    font-size: 2.5em;
}

h2, h3 {
    color: #555;
    font-weight: 600;
}

button {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 10px 15px;
    font-size: 1em;
    cursor: pointer;
    border-radius: 5px;
    transition: background-color 0.3s ease;
}

button:hover {
    background-color: #0056b3;
}

input {
    padding: 10px;
    margin: 5px 0;
    font-size: 1em;
    width: 90%;
    max-width: 300px;
    border: 1px solid #ccc;
    border-radius: 5px;
}

.error-message {
    color: #d9534f;
    font-weight: bold;
    margin-top: 10px;
}

/* Login Form */
#auth-section {
    background-color: transparent;
    backdrop-filter:blur(7px);
    padding: 30px;
    color:white;
    margin: 20px auto;
    max-width: 400px;
    border-radius: 10px;
    box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.1);
}
#auth-section h2{
    color:#e0e0e0;
    font
}
#authForm {
    display: flex;
    flex-direction: column;
    align-items: center;
}

#authForm h1 {
    color: #007bff;
}

#logoutBtn {
    margin-top: 20px;
}

/* Product List */
#products {
    display: none; /* Hidden by default */
    padding: 20px;
    grid-template-columns: 1fr , 1fr;
    max-width: 1200px;
    margin: 0 auto;
}
#product-list{
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
}

.product {
    background-color: rgb(251, 251, 251);
    border: 2px solid #fefefe;
    border-radius: 10px;
    margin: 15px;
    padding: 20px;
    text-align: center;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.05);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.product:hover {
    transform: translateY(-5px);
    box-shadow: 0px 10px 15px rgba(0, 0, 0, 0.1);
}
@media screen and (max-width: 600px) {
    #product-list {
        grid-template-columns: 1fr; 
    }
    .product{
        padding: 10px;
        width: 400px;
        height: 200px;
        margin: 10px;
    }
}

.product img {
    width: 200px;
    height: 200px;
    object-fit: cover;
    margin-bottom: 15px;
    border-radius: 50%;
    border: 2px solid #007bff;
}

.product h2 {
    font-size: 1.5em;
    margin-bottom: 10px;
    color:rgb(32, 32, 32);
}

.product h3 {
    font-size: 1em;
    color: #1b1919;
}

.product p {
    font-size: 1.1em;
    color: #0a0909;
    margin-bottom: 15px;
}


#cart {
    display: none; /* Hidden by default */
    padding: 20px;
    background-color: #fff;
    max-width: 1200px;
    margin: 20px auto;
    border-radius: 10px;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
}

#cart-items {
    margin-top: 20px;
}
.cart-item img{
    width: 100px;
}
.cart-item {
    background-color: #f9f9f9;
    padding: 10px;
    margin: 10px 0;
    border-radius: 5px;
    border-left: 5px solid #007bff;
    text-align: left;
}

.cart-item h4 {
    color: #007bff;
    margin-bottom: 5px;
}

.cart-item p {
    margin: 0;
    color: #555;
}

/* Reservation Form */
#reservation-form {
    display: none; /* Hidden by default */
    padding: 30px;
    background-color: #fff;
    max-width: 800px;
    margin: 20px auto;
    border-radius: 10px;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
}

#reservation-form h2 {
    color: #007bff;
    margin-bottom: 20px;
}

#reservation-form label {
    display: block;
    text-align: left;
    margin-bottom: 10px;
    font-weight: bold;
    color: #333;
}

#reservation-form input, #reservation-form textarea {
    width: 100%;
    max-width: 600px;
    padding: 10px;
    margin-bottom: 20px;
    border: 1px solid #ccc;
    border-radius: 5px;
    font-size: 1em;
}

#placeOrderBtn {
    width: 100%;
    max-width: 300px;
    margin-top: 20px;
}

#reservations{
    display: none;
}
#reservationList {
    list-style-type: none;
}

#reservationList li {
    background-color: #f4f4f4;
    margin-bottom: 1rem;
    padding: 1rem;
    border-radius: 5px;
}

/* Footer */
footer {
    margin-top: 30px;
    background-color: #007bff;
    color: white;
    padding: 15px 0;
    text-align: center;
    position: absolute;
    bottom: 0;
    width: 100%;
    box-shadow: 0px -5px 10px rgba(0, 0, 0, 0.1);
}
footer p {
    margin: 0;
}

    </style>
</head>
<body>
    <header>
        <h1>THE THALI STORY</h1>
        <nav>
            <ul>
                <li><a href="#products">View Products</a></li>
                <li><a href="#cart">My Cart</a></li>
                <li><a href="#profile">My Profile</a></li>
                <li><a href="#logout" id="logoutBtn">Logout</a></li>
            </ul>
        </nav>
    </header>

    <section id="auth-section">
        <h2>Register/Login</h2>
        <form id="authForm">
            <label>Email</label>
            <input type="email" id="email" placeholder="Email" required>
            <label for="">Password</label>
            <input type="password" id="password" placeholder="Password" required>
            <button type="submit" id="authBtn">Register/Login</button>
        </form>
    </section>

    

    <section id="products">
        <h1 style="color: white;"><b>Menu</b></h1>
        <div id="product-list"></div>
    </section>

    <section id="cart">
        <h1><b>My Cart</b></h1>
        <div id="cart-items"></div>
        <p style="color:#0fa7df;font-weight: bolder;">Total: RS <span id="cart-total">0.00</span></p>
    </section>
    
    
    <section id="reservation-form">
        <h2>Make a Reservation</h2>
        <form id="reservationForm">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required>

            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>

            <label for="date">Date:</label>
            <input type="date" id="date" name="date" required>

            <label for="guests">Number of Guests:</label>
            <input type="number" id="guests" name="guests" min="1" required>

            <label for="message">Special Requests:</label>
            <textarea id="message" name="message"></textarea>

            <button type="submit">Submit Reservation</button>
        </form>
    </section>

    <section id="reservations">
        <h2>Current Reservations</h2>
        <ul id="reservationList"></ul>
    </section>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
    const products = [
        { id: 1, name: 'Veg Thali', content: '2 sabji, 2 chapati, rice, dal, papad, sweet, salad', price: 140, image: 'Veg_Thali.jpeg' },
        { id: 2, name: 'Non-Veg Thali', content: '1 chicken dish, 1 sabji, 2 chapati, rice, dal, papad, sweet, salad', price: 180, image: 'chicken_thali.jpeg' },
        { id: 3, name: 'Special Thali', content: '3 sabji, 3 chapati, pulao, dal, raita, papad, sweet, salad', price: 200, image: 'shahi_thali.jpeg' },
        { id: 4, name: 'Fish Thali', content: '2 Fry Fish, 2 chapati, rice, Fish Rassa, papad, Solkadi, salad,Pudina Chutney', price: 210, image: 'fish_thali.jpeg' },
        { id: 5, name: 'Egg Thali', content: '1 Boiled Egg, Egg Curry, 2 chapati,Jeera rice,salad', price: 150, image: 'egg_thali.jpeg' },
        { id: 6, name: 'Mutton Biryani', content: 'Biryani, raita, salad,Pudina Chutney', price: 280, image: 'Mutton_biryani.jpeg' },
        { id: 7, name: 'Special Fish Thali', content: '1 Fry Fish, rice, Fish Rassa, Solkadi, salad,Pudina Chutney', price: 240, image: 'pomplete_thali.jpeg' },
        { id: 8, name: 'Regular Veg Thali', content: '1 Sabji, Curd, 2 chapati,Papad ,Kanda Bhaji,Jeera rice,salad', price: 120, image: 'thali.jpeg' },
        { id: 9, name: 'Maharaja Thali', content: 'Jeera Rice,Sweet, salad,4 Sabji,4 Nagets,Butter Milk,Mango Pickle', price: 190, image: 'veg2_thali.jpeg' }
        
        //... add other products here
    ];

    let cart = [];
    let currentUserEmail = '';

    // AUTHENTICATION
    const authForm = document.getElementById('authForm');
    authForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;

        // Validate email and password
        if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
            displayError('Invalid email format');
            return;
        } else if (password.length < 6) {
            displayError('Password must be at least 6 characters.');
            return;
        }

        currentUserEmail = email;
        alert(`Welcome, ${email}`);
        document.getElementById('auth-section').style.display = 'none';
        document.getElementById('products').style.display = 'grid';
        document.getElementById('cart').style.display = 'block';
        document.getElementById('reservations').style.display = 'block';
        document.getElementById('reservation-form').style.display = 'block';

        loadProducts();
        loadReservations();
    });

    function displayError(message) {
        const errorMessage = document.createElement('div');
        errorMessage.className = 'error-message';
        errorMessage.innerText = message;
        authForm.appendChild(errorMessage);
    }

    // LOGOUT FUNCTIONALITY
    const logoutBtn = document.getElementById('logoutBtn');
    logoutBtn.addEventListener('click', () => {
        cart = [];
        loadCart();
        document.getElementById('products').style.display = 'none';
        document.getElementById('cart').style.display = 'none';
        document.getElementById('reservation-form').style.display = 'none';
        document.getElementById('reservations').style.display = 'none';
        document.getElementById('auth-section').style.display = 'block';
        alert('You have logged out.');
    });

    // PRODUCTS
    function loadProducts() {
        const productList = document.getElementById('product-list');
        productList.innerHTML = '';
        products.forEach(product => {
            const productDiv = document.createElement('div');
            productDiv.classList.add('product');
            productDiv.innerHTML = `
                <img src="${product.image}" alt="${product.name}">
                <h2>${product.name}</h2>
                <h3>${product.content}</h3>
                <p><b>Price: Rs${product.price}</b></p>
                <label>Quantity</label>
                <input type="number" min="1" value="1" id="quantity-${product.id}" />
                <button onclick="addToCart(${product.id})">Add to Cart</button>
            `;
            productList.appendChild(productDiv);
        });
    }

    // CART
    window.addToCart = (productId) => {
        const product = products.find(p => p.id === productId);
        const quantity = parseInt(document.getElementById(`quantity-${productId}`).value) || 1;
        if (quantity < 1) return alert('Invalid quantity');

        for (let i = 0; i < quantity; i++) cart.push(product);
        alert(`${product.name} (x${quantity}) added to cart!`);
        loadCart();
    };

    function loadCart() {
        const cartItems = document.getElementById('cart-items');
        cartItems.innerHTML = '';
        if (cart.length === 0) {
            cartItems.innerHTML = '<p>Your cart is empty.</p>';
            document.getElementById('cart-total').innerText = '0.00';
            return;
        }

        let total = 0;
        const itemCounts = cart.reduce((counts, item) => {
            counts[item.id] = (counts[item.id] || 0) + 1;
            return counts;
        }, {});

        for (const [id, count] of Object.entries(itemCounts)) {
            const product = products.find(p => p.id == id);
            const cartItemDiv = document.createElement('div');
            cartItemDiv.classList.add('cart-item');
            cartItemDiv.innerHTML = `
                <h4>${product.name}</h4>
                <p>Price: Rs${product.price.toFixed(2)} each</p>
                <img src="${product.image}" alt="${product.name}">
                <button onclick="removeFromCart(${id})">Remove</button>
                <p>Total: Rs${(product.price * count).toFixed(2)}</p>
            `;
            cartItems.appendChild(cartItemDiv);
            total += product.price * count;
        }
        document.getElementById('cart-total').innerText = total.toFixed(2);
    }

    window.removeFromCart = (id) => {
        cart = cart.filter(item => item.id != id);
        loadCart();
    };

    // RESERVATION FORM
    const reservationForm = document.getElementById('reservationForm');
    reservationForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const reservation = {
            name: document.getElementById('name').value,
            email: currentUserEmail,
            date: document.getElementById('date').value,
            guests: document.getElementById('guests').value,
            message: document.getElementById('message').value
        };
        saveReservation(reservation);
        addReservationToList(reservation);
        reservationForm.reset();
    });

    function saveReservation(reservation) {
        const reservations = JSON.parse(localStorage.getItem('reservations')) || [];
        reservations.push(reservation);
        localStorage.setItem('reservations', JSON.stringify(reservations));
    }

    function loadReservations() {
        const reservationList = document.getElementById('reservationList');
        reservationList.innerHTML = '';
        const reservations = JSON.parse(localStorage.getItem('reservations')) || [];
        const userReservations = reservations.filter(r => r.email === currentUserEmail);
        userReservations.forEach(addReservationToList);
    }

    function addReservationToList(reservation) {
        const reservationList = document.getElementById('reservationList');
        const li = document.createElement('li');
        li.innerHTML = `
            <strong>${reservation.name}</strong> - ${reservation.date}<br>
            Guests: ${reservation.guests}<br>
            Message: ${reservation.message}
        `;
        reservationList.appendChild(li);
    }
});
</script>
    
</body>
</html>